<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

		<title>PLAYMOL - Resources</title>
		<meta name="description" content="BASH and MISC code examples making things easier. " />
		<meta name="author" content="Geir Isaksen" />

		<meta name="viewport" content="width=device-width; initial-scale=1.0" />

		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="../favicon.ico" />
		<link rel="apple-touch-icon" href="../apple-touch-icon.png" />
        <link href="../_css/playmol_style.css" rel="stylesheet" />
        <script src="../_js/jquery-1.9.1.js" type="text/javascript"></script>
        
        		<script type="text/javascript">
        // Wait for the page and all the DOM to be fully loaded
	$('body').ready(function() {
 
                // Add the 'hover' event listener to our drop down class
		$('.dropdown').hover(function() {
                        // When the event is triggered, grab the current element 'this' and
                        // find it's children '.sub_navigation' and display/hide them
			$(this).find('.sub_navigation').slideToggle(); 
		});
	});
</script>

<script src="../_js/latexit.js" type="text/javascript"> </script>

<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: { inlineMath: [['$','$'],['\\(','\\)']] }
  });
 </script>
          
	</head>

	<body>
				<div id="main" class="main">
			<header>
				
				<img style="margin:0px auto;display:block;width:35%" src="../images/PM_logo_small.png" alt="PLAYMOL LOGO" >
				
			</header>
		<div class="navbar">
			<nav>
				<ul id="navigation">
					<li class="dropdown"><a  href="../home.html">Home</a>
						
					</li>
					<li class="dropdown"><a  href="../news.html">News</a>
					</li>
					<li class="dropdown"><a href="../forum.html">Forum</a>
					</li>
					<li class="dropdown"><a href="../journalFeed.html">RSS feeds</a>
						<ul class="sub_navigation" id="rssFeed">
							<li><a href="../journalFeed.html#nature
								">Nature Chemistry</a></li>
							<li><a href="../journalFeed.html#chemInf
								">Chemical Information and Modeling</a></li>
							<li><a href="../journalFeed.html#chemTheo
								">Chemical Theory and Computation</a></li>
							<li><a href="../journalFeed.html#molGraph">Molecular Graphics and Modeling</a></li>
							<li><a href="../journalFeed.html#americanChemS">American Chemical Society</a></li>
							<li><a href="../journalFeed.html#theoreticalChem">Theoretical and Computational Chemistry</a></li>
						</ul>
					</li>
					
					<li class="dropdown"><a  href="../gallery.html">Gallery</a>
						<ul class="sub_navigation">
							<li><a href="../gallery/images.html">Images</a></li>
							<li><a href="../gallery/animations.html">Animations</a></li>
							<li><a href="../gallery/submit.html">Submit</a></li>
						</ul>
					</li>
					
					<li class="dropdown"><a style="color:rgb(175, 225, 48)"href="../resources.html">Resources</a>
						<ul class="sub_navigation">
							<li><a href="pymol.html">pyMol</a></li>
							<li><a   href="python.html">python</a></li>
							<li><a style="color:rgb(175, 225, 48)" href="bash.html">Bash</a></li>
							<li><a href="forcefield.html">Force field</a></li>
							<li><a href="evb.html">EVB</a></li>
						</ul>
					</li>
					
					
				</ul>
			</nav>
		</div>
			
			<h5>&nbsp; </h5>
	</div>
	<div class="main">
			<h1 style="clear:both;">Bash &amp; misc</h1> 
			
			<section>
			BASH is the language you apply when using the command line on
			Linux or Mac. There are many scripting languages, but in many
			situations BASH is all you need. Knowing how to take advantage
			of the BASH language can really be a time saver. 
			<P> Here is a collection of code snippts and examples
				that I find useful and efficient (some require additional
				packages).</P> 	   
				
			<p>Content:</p>
	
		<ul class="general">
			<li><a href="#folders">Create a series of folders and sub folders</a></li>
			<li><a href="#math">Do math from command line</a></li>
			<li><a href="#resize"> ImageMagick: Resize &amp; keep aspect</a></li>
			<li><a href="#combine"> ImageMagick: Combine images</a></li>
		</ul>	
			</section>
		
	</div>
	
	<div class="main">
		<h2 id="folders">Create a series of folders and sub folder</h2>
		<section>I often perform several molecular dynamic simulations at
			different temperatures, and I like to organize the simulations
			in corresponding folders. If I where to do for example 20 simulations at 8
			different temperatures, I would have to create a total of 160 folders. 
			Doing this manually is of course time consuming and cumbersome. However, with just 
			a few lines of BASH code this is done in seconds.
			
			<p>
			Here is an example where I create the temperature folders 275, 280, 285, 290, 295, 300, 305 and 310 and 
			20 subfolders for each temperature: 
			<pre class="data">
for T in $(seq 275 5 310);do
for sub in {1..20};do
mkdir $T/$sub
done
done
			</pre>
			And that is all. Now it is easy to use the same idea to copy your MD jobs to each folder, submit them, and
			later extract results from them.
			</p>
			</section>
	</div>
	
	<div class="main">
		<h2 id="math">Do math from the command line</h2>
		<section>
		If you have ever tried doing math from the command line, you have probably tried to type something like:
		<p class="data"> echo "2.2 + 3.1" </p>
		This will however just return "2.2 + 3.1" and not "5.3" as we want.
		It is possible to do math within the BASH environment, but then we need to use bc:
		<p class="data">echo "2.2 + 3.1" | bc</p>
		which returns "5.2" as we wanted it to. However, if you type:
		<p class="data">echo "sqrt(3)" | bc</p>
		"1" is returned. This is because we need to specify how many decimals we want. Since 
		the input is 3, this is taken as an integer, and that is also what is returned, even though
		we want a float. Use scale to specify how many decimals you want:
		<p class="data">echo "scale=3; sqrt(3)" | bc</p>
		This will return "1.732".  
		
		</section>
	</div>
	
	<div class="main">
		<h2 id="resize">ImageMagick: Resize &amp; keep aspect </h2>
		<section>
			ImageMagick is perfect if you want to resize images.
			Here is an example to convert all png files to a new size with width 100 px without
			altering the aspect:
			
			<p class="data">for i in *.png;do echo "$i"; convert "$i" -resize 100x "$i";done </p>
			100x resizes the width to 100 px and the height to the corresponding aspect. To resize
			based on the height, you just type x100 to obtain a heigth of 100 px:
			<p class="data">for i in *.png;do echo "$i"; convert "$i" -resize x100 "$i";done</p>
		</section>
		
	</div>
	
	<div class="main">
		<h2 id="combine">ImageMagick: Combine images</h2>
		<section>
			With ImageMagick you can combine several images side by side or on top of each other using layers.
			<p>
			Here is one example to combine two images side by side:
			<p class="data"> convert file1.png file2.png +append -quality 75 output.png</p>
			</p>
			
			<p>
			Here is one example to combine images on top of each other using layers:
			<p class="data">convert -page 800x600 background.png -page +650+30 image1.png -layers flatten output.png </p>
			Here image1.png is placed on top of the image called background.png. The "+650+30" is the placement of
			image1.png relative to the first image (background.png). With '-page' you can place as many images as you
			like on top of each other. 
			</p>
		</section>
		
	</div>
	
	

	<div class="footer">
				<div class="footerLinks">
					<h5>NAVIGATION</h5>
					<ul>
					<li><a href="#main">Top</a></li>	
					<li><a href="../home.html">Home</a></li>
					</ul>
				</div>
				<div class="footerLinks">
					<h5>&nbsp; </h5>
					<ul>
					<li><a href="../journalFeed.html">Journal Feed</a></li>	
					<li><a href="../forum.html">Forum</a></li>
					</ul>
				</div>
				<div class="footerLinks">
					<h5>INFO</h5>
					<ul>
					<li><a href="../about.html">About</a></li>	
					<li><a href="../contact.html">Contact</a></li>
					</ul>
				</div>
				<div class="footerLinks">
					<h5>LINKS</h5>
					<ul>
					<li><a href="http://www.pymol.org">PyMol</a></li>	
					<li><a href="http://www.python.org">Python</a></li>
					</ul>
				</div>
				
			<footer style="clear:both">
				
				<img src="../images/bottomLogo_small.png" alt="PlayMol logo"> <br/>
			<small>
				&copy; 2012 - 2013   GEIR ISAKSEN 
			</small>
			</footer>
			</div>
	</body>
</html>
